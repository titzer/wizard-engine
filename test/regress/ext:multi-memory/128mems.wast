;; Multiple memories

(module
    (memory $mem1 1)
    (memory $mem2 1)
    (memory $mem3 1)
    (memory $mem4 1)
    (memory $mem5 1)
    (memory $mem6 1)
    (memory $mem7 1)
    (memory $mem8 1)
    (memory $mem9 1)
    (memory $mem10 1)
    (memory $mem11 1)
    (memory $mem12 1)
    (memory $mem13 1)
    (memory $mem14 1)
    (memory $mem15 1)
    (memory $mem16 1)
    (memory $mem17 1)
    (memory $mem18 1)
    (memory $mem19 1)
    (memory $mem20 1)
    (memory $mem21 1)
    (memory $mem22 1)
    (memory $mem23 1)
    (memory $mem24 1)
    (memory $mem25 1)
    (memory $mem26 1)
    (memory $mem27 1)
    (memory $mem28 1)
    (memory $mem29 1)
    (memory $mem30 1)
    (memory $mem31 1)
    (memory $mem32 1)
    (memory $mem33 1)
    (memory $mem34 1)
    (memory $mem35 1)
    (memory $mem36 1)
    (memory $mem37 1)
    (memory $mem38 1)
    (memory $mem39 1)
    (memory $mem40 1)
    (memory $mem41 1)
    (memory $mem42 1)
    (memory $mem43 1)
    (memory $mem44 1)
    (memory $mem45 1)
    (memory $mem46 1)
    (memory $mem47 1)
    (memory $mem48 1)
    (memory $mem49 1)
    (memory $mem50 1)
    (memory $mem51 1)
    (memory $mem52 1)
    (memory $mem53 1)
    (memory $mem54 1)
    (memory $mem55 1)
    (memory $mem56 1)
    (memory $mem57 1)
    (memory $mem58 1)
    (memory $mem59 1)
    (memory $mem60 1)
    (memory $mem61 1)
    (memory $mem62 1)
    (memory $mem63 1)
    (memory $mem64 1)
    (memory $mem65 1)
    (memory $mem66 1)
    (memory $mem67 1)
    (memory $mem68 1)
    (memory $mem69 1)
    (memory $mem70 1)
    (memory $mem71 1)
    (memory $mem72 1)
    (memory $mem73 1)
    (memory $mem74 1)
    (memory $mem75 1)
    (memory $mem76 1)
    (memory $mem77 1)
    (memory $mem78 1)
    (memory $mem79 1)
    (memory $mem80 1)
    (memory $mem81 1)
    (memory $mem82 1)
    (memory $mem83 1)
    (memory $mem84 1)
    (memory $mem85 1)
    (memory $mem86 1)
    (memory $mem87 1)
    (memory $mem88 1)
    (memory $mem89 1)
    (memory $mem90 1)
    (memory $mem91 1)
    (memory $mem92 1)
    (memory $mem93 1)
    (memory $mem94 1)
    (memory $mem95 1)
    (memory $mem96 1)
    (memory $mem97 1)
    (memory $mem98 1)
    (memory $mem99 1)
    (memory $mem100 1)
    (memory $mem101 1)
    (memory $mem102 1)
    (memory $mem103 1)
    (memory $mem104 1)
    (memory $mem105 1)
    (memory $mem106 1)
    (memory $mem107 1)
    (memory $mem108 1)
    (memory $mem109 1)
    (memory $mem110 1)
    (memory $mem111 1)
    (memory $mem112 1)
    (memory $mem113 1)
    (memory $mem114 1)
    (memory $mem115 1)
    (memory $mem116 1)
    (memory $mem117 1)
    (memory $mem118 1)
    (memory $mem119 1)
    (memory $mem120 1)
    (memory $mem121 1)
    (memory $mem122 1)
    (memory $mem123 1)
    (memory $mem124 1)
    (memory $mem125 1)
    (memory $mem126 1)
    (memory $mem127 1)
    (memory $mem128 1)

    (func (export "load128") (param i32) (result i64)
      (i64.load $mem128 offset=2000 (local.get 0))
    )

    (func (export "store128") (param i32 i64)
      (i64.store $mem128 offset=2000 (local.get 0) (local.get 1))
    )
)

(invoke "store128" (i32.const 0) (i64.const 2))
(assert_return (invoke "load128" (i32.const 0)) (i64.const 2))