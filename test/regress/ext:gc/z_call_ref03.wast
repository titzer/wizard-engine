(module
  (type $0 (func (param i32 (ref eq))))
  (type $1 (func))
  (type $S (struct))
  (export "_start" (func 0))
  (elem declare func 1)
  (func $0
    (type 1)
    (local (ref eq) (ref eq) (ref eq))
    (struct.new_default $S)
    (local.set 0)
    (i32.const 1)
    (local.get 0)
    (ref.func 1)
    (call_ref 0)
  )
  (func $1 (type 0) (unreachable))
)
(assert_trap (invoke "_start") "unreachable")
