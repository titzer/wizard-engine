;; INNER_CALIBRATION = 4800
(module
  (type $f1 (func (param i32 i32 i32 i32 i32 i32)))
  (type $c1 (cont $f1))
  (type $f2 (func (param i32 i32 i32 i32 i32)))
  (type $c2 (cont $f2))
  (type $f3 (func (param i32 i32 i32 i32)))
  (type $c3 (cont $f3))
  (type $f4 (func (param i32 i32 i32)))
  (type $c4 (cont $f4))
  (type $f5 (func (param i32 i32)))
  (type $c5 (cont $f5))
  (type $f6 (func (param i32)))
  (type $c6 (cont $f6))
  (type $f7 (func))
  (type $c7 (cont $f7))
  (func $empty (param i32 i32 i32 i32 i32 i32)) (elem declare func $empty)
  (func $main (export "main")
    (local $i i32)
    (local.set $i (i32.const 1 (;$INNER_ITERATIONS;)))
    (loop $l
      (i32.const 5)
      (i32.const 4)
      (i32.const 3)
      (i32.const 2)
      (i32.const 1)
      (i32.const 0)
      (cont.new $c1 (ref.func $empty))
      (cont.bind $c1 $c2)
      (cont.bind $c2 $c3)
      (cont.bind $c3 $c4)
      (cont.bind $c4 $c5)
      (cont.bind $c5 $c6)
      (cont.bind $c6 $c7)
      (drop)
      (local.tee $i (i32.sub (local.get $i) (i32.const 1)))
      (br_if $l)
    )
  )

  (func $start (export "_start")
    (call $main)
  )
)
