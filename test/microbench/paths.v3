def funcs = [
	median3,
	majority3,
	min4(_, _, 3, _)
];

// Select the function to test.
def f = funcs[2];

export def main() {
	for (i < 5) {
		for (j < 5) {
			for (k < 5) min4(i, j, 3, k);
		}
	}
}

def median3(a: int, b: int, c: int) -> int {
	if (a > b) {
		if (b > c) {
			return b;
		} else if (a > c) {
			return c;
		} else {
			return a;
		}
	} else {
		if (a > c) {
			return a;
		} else if (b > c) {
			return c;
		} else {
			return b;
		}
	}
}

def majority3(a: int, b: int, c: int) -> int {
	var voteAB = (a == b);
	var voteAC = (a == c);
	var voteBC = (b == c);

	if (voteAB && voteAC) return a;
	if (voteAB) return a;
	if (voteAC) return a;
	if (voteBC) return b;

	if (a > b && a > c) return a;
	if (b > c) return b;
	return c;
}

def min4(a: int, b: int, c: int, d: int) -> int {
	if (b < a) a = b;
	if (c < a) a = c;
	if (d < a) a = d;
	return a;
}
